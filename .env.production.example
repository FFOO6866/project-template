# ============================================================================
# Horme POV - Production Environment Configuration
# ============================================================================
#
# CRITICAL SECURITY NOTICE:
# 1. NEVER commit this file to version control
# 2. Copy this file to .env.production and customize for your deployment
# 3. Use cloud secret managers in production (AWS Secrets Manager, Azure Key Vault, etc.)
# 4. Rotate all secrets regularly (every 90 days minimum)
#
# Generated: 2025-10-23
# ============================================================================

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ============================================================================
# DATABASE - PostgreSQL
# ============================================================================
POSTGRES_USER=horme_user
POSTGRES_PASSWORD=UurrAhYnZGqHR3%y*UvDq8lcuooxvIEj
POSTGRES_DB=horme_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Full database URL (auto-constructed in Docker)
DATABASE_URL=postgresql://horme_user:UurrAhYnZGqHR3%y*UvDq8lcuooxvIEj@postgres:5432/horme_db

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ============================================================================
# CACHE - Redis
# ============================================================================
REDIS_PASSWORD=FhM5!0V!Qnv3R7!bE$eN!0ki!qRLuj&O
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# Full Redis URL
REDIS_URL=redis://:FhM5!0V!Qnv3R7!bE$eN!0ki!qRLuj&O@redis:6379/0

# ============================================================================
# GRAPH DATABASE - Neo4j
# ============================================================================
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=OoDP7rNSJ%m$Xgrk#A&6!qeNTAa!S$qD

# ============================================================================
# SECURITY - JWT & Secrets
# ============================================================================
# JWT token secret (never share, rotate regularly)
JWT_SECRET=8f550ad606d2b539ab1bcef53975f64da5e26def0b075917ae150f5a65c8eb94

# Nexus JWT secret (separate for Nexus platform)
NEXUS_JWT_SECRET=a25a49cec668c6b1f8712391d32afa48887e464a02c0295bb09cbb0b949d6e28

# General application secret key
SECRET_KEY=cf328df13e477e672bfa16664e8485295e0f900ce8d5cb1ec912803b3fcf7527

# JWT token expiry (in seconds)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# AI - OpenAI API
# ============================================================================
OPENAI_API_KEY=sk-proj-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

# ============================================================================
# EMAIL MONITORING (for RFP processing)
# ============================================================================
EMAIL_IMAP_SERVER=mail.horme.com.sg
EMAIL_USERNAME=integrum@horme.com.sg
EMAIL_PASSWORD=Integrum2@25
EMAIL_CHECK_INTERVAL=300

# ============================================================================
# CORS & ALLOWED ORIGINS
# ============================================================================
# IMPORTANT: Update these with your actual domain names
# Format: comma-separated list without spaces
CORS_ORIGINS=https://horme.example.com,https://www.horme.example.com,https://api.horme.example.com

# For development/testing, you can include localhost:
# CORS_ORIGINS=https://horme.example.com,http://localhost:3000,http://localhost:3010

# ============================================================================
# ADMIN USER
# ============================================================================
ADMIN_EMAIL=admin@horme.example.com

# Admin password hash (bcrypt)
# Default password: admin123 (CHANGE IMMEDIATELY AFTER FIRST LOGIN)
# To generate new hash: python -c "from passlib.hash import bcrypt; print(bcrypt.hash('your_password'))"
ADMIN_PASSWORD_HASH=$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5oeWP0TfIkO5i

# ============================================================================
# APPLICATION URLs
# ============================================================================
# Frontend URL (for email links, etc.)
FRONTEND_URL=https://horme.example.com

# API URL (internal service-to-service communication)
API_URL=http://api:8000

# WebSocket URL (for real-time features)
WEBSOCKET_URL=wss://horme.example.com/ws

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
# Next.js public environment variables (exposed to browser)
NEXT_PUBLIC_API_URL=https://api.horme.example.com
NEXT_PUBLIC_WEBSOCKET_URL=wss://horme.example.com/ws
NEXT_PUBLIC_ENVIRONMENT=production

# ============================================================================
# FILE STORAGE
# ============================================================================
# Local storage path (Docker volume)
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE_MB=50

# For cloud storage (optional - uncomment and configure)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=horme-uploads
# AWS_REGION=us-east-1

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Sentry (error tracking - optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log retention (days)
LOG_RETENTION_DAYS=30

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup destination (S3, Azure Blob, GCS, or local)
BACKUP_DESTINATION=s3
# BACKUP_S3_BUCKET=horme-backups

# ============================================================================
# PERFORMANCE
# ============================================================================
# API workers (Gunicorn/Uvicorn)
WORKERS=4
WORKER_CONNECTIONS=1000

# Database query timeout (seconds)
DB_QUERY_TIMEOUT=30

# Redis cache TTL (seconds)
CACHE_TTL=3600

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_EMAIL_MONITORING=true
ENABLE_NEO4J_RECOMMENDATIONS=true
ENABLE_AI_CLASSIFICATION=true
ENABLE_WEBSOCKET_NOTIFICATIONS=true
ENABLE_METRICS=true

# ============================================================================
# CLOUD PROVIDER SPECIFIC (Uncomment as needed)
# ============================================================================

# --- AWS ---
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1

# --- Azure ---
# AZURE_STORAGE_CONNECTION_STRING=
# AZURE_STORAGE_ACCOUNT_NAME=
# AZURE_STORAGE_ACCOUNT_KEY=

# --- GCP ---
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
# GCP_PROJECT_ID=

# ============================================================================
# NOTES
# ============================================================================
#
# Security Best Practices:
# 1. All passwords are 32+ characters with special characters
# 2. JWT secrets are 64-character hex strings (256-bit)
# 3. Use environment-specific secrets (dev != staging != production)
# 4. Store secrets in cloud secret managers, not in .env files
# 5. Rotate all secrets every 90 days minimum
# 6. Use principle of least privilege for database users
#
# Docker Deployment:
# - All services communicate via Docker network names (postgres, redis, neo4j)
# - Ports are internal to Docker network, exposed via Nginx
# - Use Docker secrets for sensitive values in production
#
# Kubernetes Deployment:
# - Convert to Kubernetes Secrets: kubectl create secret generic horme-secrets --from-env-file=.env.production
# - Use sealed-secrets or external-secrets operator for GitOps
#
# ============================================================================
